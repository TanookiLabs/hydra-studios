<div class="modal fade" id="contactModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content p-2">
      <div class="modal-header border-0 d-flex justify-content-center">
        <div>
          <img class="contact-us-bubble pb-5 pr-1 pr-md-0" src={{ "hydra-droplet.png" | asset_img_url }} />
        </div>
        <h5 class="modal-title contact-us-modal-title align-self-end pb-2" id="exampleModalLabel">
          Get in Touch with Us
        </h5>
        <div class="contact-us-bubble-spacer"></div>
      </div>
      <div class="modal-body pt-0">
        <form class="px-2" id="contact-us-form">
          <div class='row mb-3'>
            <div class='col-6 pr-1'>
              <label for="first_name">First Name:</label>
              <input class="contact-us-input w-100" id="form-first_name" type="text" name="first_name" required />
            </div>
            <div class='col-6 pl-1'>
              <label for="last_name">Last Name:</label>
              <input class="contact-us-input w-100" id="form-last_name" type="text" name="last_name" required />
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-12">
              <label for="email">Email:</label>
              <input class="contact-us-input w-100" id="form-email" type="email" name="email" required />
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-12">
              <label for="comments">Comments:</label>
              <input class="contact-us-input w-100" id="form-comments" type="textarea" name="comments" />
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-12">
              <label for="form-opt_in">
                <input type="checkbox" id="form-opt_in" name="opt_in" class="mr-1" checked />
                By selecting 'Submit' you agree to opt-in for Hydra Studios email outreach
              </label>
            </div>
          </div>
          <div class="row">
            <input type="submit" class="text-center submit-button mb-4" value="SUBMIT" />
          </div>
        </form>

        <!-- <div class="klaviyo-form-UdMnvP"></div> -->

        <div class='text-center'>
          <p class="contact-us-fine-print">
            by signing, you agree to Hydra's
            <a href="/pages/privacy-policy" target="_blank">Privacy Policy</a> and
            <a href="/pages/terms-and-conditions" target="_blank">Terms of Use</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).ready(() => {
    const formSuccess = () => {
      $('#contactModal').modal('hide')
      $('#contactUsThankYouModal').modal('show')
    }

    $('#contact-us-form').on('submit', (e) => {
      e.preventDefault();
      const formValues = {
        first_name: $('input#form-first_name').val(),
        last_name: $('input#form-last_name').val(),
        email: $('input#form-email').val(),
        comments: $('input#form-comments').val()
      }

      const zapId = $('input#form-opt_in:checked').length ? 'onepf7o' : 'onqnv91'

      $.ajax({
        type: "POST",
        url: `https://hooks.zapier.com/hooks/catch/8998686/${zapId}`,
        data: formValues,
        success: formSuccess
      });
    })
  })
</script>
